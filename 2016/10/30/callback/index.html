<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>JavaScript中的回调函数 | Mr.Song&#39;s BLOG</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="什么是回调函数回调函数（Callback） 是一段可执行的代码段（通常包装成一个函数），它会作为一个参数传递给其他的代码（通常也是一个函数）。回调函数会等待父函数执行完毕后立即执行，而与此同时，其他函数的调用不会受到阻塞。

A callback is a function that is passed as an argument to another function and is execu">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript中的回调函数">
<meta property="og:url" content="http://songziming.com.cn/2016/10/30/callback/index.html">
<meta property="og:site_name" content="Mr.Song's BLOG">
<meta property="og:description" content="什么是回调函数回调函数（Callback） 是一段可执行的代码段（通常包装成一个函数），它会作为一个参数传递给其他的代码（通常也是一个函数）。回调函数会等待父函数执行完毕后立即执行，而与此同时，其他函数的调用不会受到阻塞。

A callback is a function that is passed as an argument to another function and is execu">
<meta property="og:updated_time" content="2016-11-05T10:19:53.873Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript中的回调函数">
<meta name="twitter:description" content="什么是回调函数回调函数（Callback） 是一段可执行的代码段（通常包装成一个函数），它会作为一个参数传递给其他的代码（通常也是一个函数）。回调函数会等待父函数执行完毕后立即执行，而与此同时，其他函数的调用不会受到阻塞。

A callback is a function that is passed as an argument to another function and is execu">
  
    <link rel="alternate" href="/atom.xml" title="Mr.Song&#39;s BLOG" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Mr.Song&#39;s BLOG</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://songziming.com.cn"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-callback" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/30/callback/" class="article-date">
  <time datetime="2016-10-30T14:48:39.000Z" itemprop="datePublished">2016-10-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      JavaScript中的回调函数
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="什么是回调函数"><a href="#什么是回调函数" class="headerlink" title="什么是回调函数"></a>什么是回调函数</h2><p><a href="http://https://zh.wikipedia.org/wiki/%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0" target="_blank" rel="external">回调函数（Callback）</a> 是一段可执行的代码段（通常包装成一个函数），它会作为一个参数传递给其他的代码（通常也是一个函数）。回调函数会等待父函数执行完毕后立即执行，而与此同时，其他函数的调用不会受到阻塞。</p>
<blockquote>
<p>A callback is a function that is passed as an argument to another function and is executed after its parent function has completed. Callbacks are special because they patiently wait to execute until their parent finishes. Meanwhile, the browser can be executing other functions or doing all sorts of other work.</p>
<p>— <a href="http://learn.jquery.com/" target="_blank" rel="external">jQuery</a> 官网</p>
</blockquote>
<p>打个比方，你到一个商店买东西，不巧你要的东西没货了，你会怎么办呢？</p>
<ol>
<li>每天去一趟商店，看东西到货了没</li>
<li>你给店员留了个电话，让他等东西到货后马上给你打电话</li>
</ol>
<p>前者是轮询，后者就是回调。</p>
<p>在这个回调机制里，你的电话号码就是回调函数，你把电话留给店员叫传递回调函数，东西到货叫做触发回调关联的事件，店员给你打电话就是调用回调函数。</p>
<a id="more"></a>
<h2 id="回调函数怎么用"><a href="#回调函数怎么用" class="headerlink" title="回调函数怎么用"></a>回调函数怎么用</h2><p>上面已经提到，JavaScript 中的回调函数一般都是作为参数传递给另外一个函数。下面分回调函数有没有参数两种情况分别说明如何传递它给父函数。</p>
<h3 id="没有参数的回调函数"><a href="#没有参数的回调函数" class="headerlink" title="没有参数的回调函数"></a>没有参数的回调函数</h3><p>如果回调函数没有参数，那么你可以这么传递给父函数：</p>
<pre><code>$.get( &quot;mypage.html&quot;, myCallBack );
</code></pre><p>当 <code>$.get()</code> 函数请求 <code>mypage.html</code> 完毕后，浏览器就会执行 <code>myCallBack()</code> 函数。</p>
<blockquote>
<p>注意，第二个参数就是函数名形式传递给父函数，不要把它写成了字符串形式，即不能加引号。</p>
</blockquote>
<h3 id="带有参数的回调函数"><a href="#带有参数的回调函数" class="headerlink" title="带有参数的回调函数"></a>带有参数的回调函数</h3><p>如果回调函数带有参数，很多人第一反应会这么使用：</p>
<pre><code>$.get( &quot;mypage.html&quot;, myCallBack( param1, param2 ) );   //Wrong!!!
</code></pre><p>这就大错特错啦！</p>
<p>因为这行代码会先执行 <code>myCallBack( param1, param2 )</code> 函数，然后把这个 <strong>函数的返回值</strong> 作为参数传递给 <code>$.get()</code> 。如果你确实想这么做，那当然是可以的。</p>
<p>但如果你是想把带有参数的 <code>myCallBack()</code> 作为回调函数使用，你就必须使用 <em>匿名函数</em> 把它包装起来：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$.get( &quot;mypage.html&quot;, function() &#123;</div><div class="line"> </div><div class="line">    myCallBack( param1, param2 );</div><div class="line"> </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<blockquote>
<p>这个匿名函数只做一件事，就是调用带有参数 <code>param1</code> 与 <code>param2</code> 的函数 <code>myCallBack()</code> 。</p>
</blockquote>
<p>当 <code>$.get()</code> 函数请求 <code>mypage.html</code> 完毕后，浏览器就会执行这个匿名函数，也就相当于执行 <code>myCallBack( param1, param2 )</code> 。</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>在 JavaScript 中回调函数几乎无处不在。回调本质上是一种设计模式，这种机制为编程提供了非常大的灵活性。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://songziming.com.cn/2016/10/30/callback/" data-id="civ59h5500005u8g4gm5kj3og" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Callback/">Callback</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/回调函数/">回调函数</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2016/10/19/get-vs-post/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Ancien</strong>
      <div class="article-nav-title">简单谈谈 GET 与 POST 的区别</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Catégories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Other-Notes/">Other Notes</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Mot-clés</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Callback/">Callback</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GET/">GET</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GitHub/">GitHub</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/POST/">POST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博客/">博客</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/回调函数/">回调函数</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nuage de mot-clés</h3>
    <div class="widget tagcloud">
      <a href="/tags/Callback/" style="font-size: 10px;">Callback</a> <a href="/tags/GET/" style="font-size: 10px;">GET</a> <a href="/tags/GitHub/" style="font-size: 10px;">GitHub</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/POST/" style="font-size: 10px;">POST</a> <a href="/tags/博客/" style="font-size: 10px;">博客</a> <a href="/tags/回调函数/" style="font-size: 10px;">回调函数</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/10/30/callback/">JavaScript中的回调函数</a>
          </li>
        
          <li>
            <a href="/2016/10/19/get-vs-post/">简单谈谈 GET 与 POST 的区别</a>
          </li>
        
          <li>
            <a href="/2016/10/02/how-to-set-up-blog/">如何搭建个人博客（GitHub Pages + Hexo + 域名绑定）</a>
          </li>
        
          <li>
            <a href="/2016/10/01/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Song Ziming<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>